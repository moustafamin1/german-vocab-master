@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: dark;
  }

  body {
    @apply bg-background text-primary antialiased min-h-screen;
    background-color: #09090b;
    /* Fallback */
  }
}

@layer components {
  .btn {
    @apply px-4 py-3 rounded-xl transition-all duration-200 font-medium active:scale-95 disabled:opacity-50 disabled:active:scale-100;
  }

  .btn-primary {
    @apply bg-yellow-500 text-zinc-950 hover:bg-yellow-600;
  }

  .btn-secondary {
    @apply bg-zinc-900 border border-zinc-800 text-zinc-100 hover:bg-zinc-800;
  }

  .card {
    @apply bg-zinc-900/50 border border-zinc-800/50 rounded-2xl p-6 backdrop-blur-sm;
  }

  .input {
    @apply bg-zinc-900 border border-zinc-800 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-zinc-700 transition-all text-zinc-100 placeholder:text-zinc-600;
  }
}

@keyframes flash-yellow-milestone {
  0% {
    color: #52525b;
    transform: scale(1);
  }

  15% {
    color: #fbbf24;
    transform: scale(1.4);
    text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
  }

  30% {
    color: #52525b;
    transform: scale(1);
  }

  45% {
    color: #fbbf24;
    transform: scale(1.4);
    text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
  }

  60%,
  100% {
    color: #fbbf24;
    transform: scale(1);
  }
}

@keyframes star-float-twice {
  0% {
    transform: translate(0, -50%) scale(0);
    opacity: 0;
  }

  15% {
    transform: translate(-15px, -50%) scale(1.5);
    opacity: 1;
  }

  30% {
    transform: translate(-25px, -50%) scale(0);
    opacity: 0;
  }

  31% {
    transform: translate(0, -50%) scale(0);
    opacity: 0;
  }

  45% {
    transform: translate(-15px, -50%) scale(1.5);
    opacity: 1;
  }

  60% {
    transform: translate(-25px, -50%) scale(0);
    opacity: 0;
  }

  100% {
    opacity: 0;
  }
}

.stat-milestone {
  animation: flash-yellow-milestone 2s ease-in-out forwards;
}

.stat-milestone::after {
  content: '‚≠ê';
  position: absolute;
  right: 100%;
  top: 50%;
  margin-right: 5px;
  font-size: 10px;
  animation: star-float-twice 2s ease-in-out forwards;
}

@keyframes flash-bg-yellow {
  0% {
    background-color: rgba(9, 9, 11, 0.5); /* bg-[#09090b]/50 */
    border-color: rgba(24, 24, 27, 0.5); /* border-zinc-900/50 */
  }

  15% {
    background-color: rgba(245, 158, 11, 0.2); /* amber-500/20 */
    border-color: rgba(245, 158, 11, 0.5); /* amber-500/50 */
    box-shadow: 0 0 20px rgba(245, 158, 11, 0.1);
  }

  30% {
    background-color: rgba(9, 9, 11, 0.5);
    border-color: rgba(24, 24, 27, 0.5);
    box-shadow: none;
  }

  45% {
    background-color: rgba(245, 158, 11, 0.2);
    border-color: rgba(245, 158, 11, 0.5);
    box-shadow: 0 0 20px rgba(245, 158, 11, 0.1);
  }

  60%,
  100% {
    background-color: rgba(9, 9, 11, 0.5);
    border-color: rgba(24, 24, 27, 0.5);
    box-shadow: none;
  }
}

.bar-milestone {
  animation: flash-bg-yellow 2s ease-in-out forwards;
}